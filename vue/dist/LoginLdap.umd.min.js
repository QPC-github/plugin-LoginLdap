(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):"function"===typeof define&&define.amd?define(["CoreHome",,"CorePluginsAdmin"],t):"object"===typeof exports?exports["LoginLdap"]=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):e["LoginLdap"]=t(e["CoreHome"],e["Vue"],e["CorePluginsAdmin"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/LoginLdap/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"4b04":function(e,t){},"8bbf":function(e,n){e.exports=t},a5a2:function(e,t){e.exports=n},b9a0:function(e,t){},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"TestableField",(function(){return f})),n.d(t,"Admin",(function(){return J})),"undefined"!==typeof window){var a=window.document.currentScript,l=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(n.p=l[1])}var i=n("8bbf"),r=n("19dc"),o=["innerHTML"];function c(e,t,n,a,l,r){var c=Object(i["resolveComponent"])("Field"),u=Object(i["resolveComponent"])("SaveButton");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),"model-value":e.actualInputValue,"onUpdate:modelValue":t[1]||(t[1]=function(t){e.actualInputValue=t,e.testResult=e.testError=null,e.$emit("update:modelValue",t)}),name:e.name,title:e.title,"inline-help":e.inlineHelp},null,8,["model-value","name","title","inline-help"])]),Object(i["withDirectives"])(Object(i["createVNode"])(u,{saving:e.isChecking,onConfirm:t[2]||(t[2]=function(t){return e.testValue()}),value:e.translate("LoginLdap_Test")},null,8,["saving","value"]),[[i["vShow"],e.actualInputValue]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"test-config-option-success",innerHTML:e.$sanitize(e.successMessage)},null,8,o),[[i["vShow"],null!==e.testResult]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"test-config-option-error"},Object(i["toDisplayString"])(e.testError),513),[[i["vShow"],e.testError]])])}var u=n("a5a2");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(i["defineComponent"])({props:{modelValue:String,name:String,successTranslation:{type:String,required:!0},testApiMethod:{type:String,required:!0},testApiMethodArg:{type:String,required:!0},inlineHelp:String,title:String},components:{Field:u["Field"],SaveButton:u["SaveButton"]},emits:["update:modelValue"],setup:function(e){var t=null,n=function(n){return t&&(t.abort(),t=null),t=new AbortController,r["AjaxHelper"].fetch(d({method:e.testApiMethod},e.testApiMethodArg,n),{abortController:t,createErrorNotification:!1}).finally((function(){t=null}))};return{sendRequestToTestValue:n}},data:function(){return{actualInputValue:this.modelValue,testError:null,testResult:null,testValue:null,isChecking:!1}},methods:{testInputValue:function(){var e=this;this.testError=null,this.testResult=null,this.actualInputValue&&this.sendRequestToTestValue(this.actualInputValue).then((function(t){e.testResult=null===t.value?null:parseInt(t.value,10)})).catch((function(t){e.testError=t.message||t,e.testResult=null}))},onKeydown:function(e){"Enter"===e.key&&this.testInputValue()}},computed:{successMessage:function(){var e=1===this.testResult?"LoginLdap_OneUser":"General_NUsers";return Object(r["translate"])(this.successTranslation,"<strong>".concat(Object(r["translate"])(e),"</strong>"))}}}),p=n("b9a0"),m=n.n(p);s.render=c,"function"===typeof m.a&&m()(s);var f=s,b=(Object(r["createAngularJsAdapter"])({component:f,scope:{value:{angularJsBind:"@"},name:{angularJsBind:"@"},successTranslation:{angularJsBind:"@"},testApiMethod:{angularJsBind:"="},testApiMethodArg:{angularJsBind:"="},inlineHelp:{angularJsBind:"@"},title:{angularJsBind:"@"}},directiveName:"piwikLoginLdapTestableField",$inject:["$timeout"],events:{"update:modelValue":function(e,t,n,a,l,i,r){var o=i?i.$viewValue:n.value;e!==o&&r((function(){i?(i.$setViewValue(e),i.$render()):n.value=e}))}},postCreate:function(e,t,n,a,l){var o=l;o?(o.$render=function(){Object(i["nextTick"])((function(){e.modelValue=Object(r["removeAngularJsSpecificProperties"])(o.$viewValue)}))},"undefined"!==typeof t.value?o.$setViewValue(t.value):o.$setViewValue(e.modelValue)):t.$watch("value",(function(t){t!==e.modelValue&&Object(i["nextTick"])((function(){e.modelValue=t}))}))}}),{key:0}),_=Object(i["createElementVNode"])("hr",null,null,-1),L=Object(i["createElementVNode"])("hr",null,null,-1),g=["innerHTML"],V=Object(i["createElementVNode"])("br",null,null,-1),h=Object(i["createElementVNode"])("br",null,null,-1),j=Object(i["createElementVNode"])("br",null,null,-1),O=Object(i["createElementVNode"])("br",null,null,-1),v=["innerHTML"],N=["innerHTML"],C=["innerHTML"],S=Object(i["createElementVNode"])("hr",null,null,-1),y={src:"plugins/Morpheus/images/loading-blue.gif"},w=Object(i["createElementVNode"])("br",null,null,-1),E=Object(i["createElementVNode"])("br",null,null,-1),U=["innerHTML"],A={key:1},x=Object(i["createElementVNode"])("br",null,null,-1),D=["innerHTML"],F=Object(i["createElementVNode"])("hr",null,null,-1);
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function T(e,t,n,a,l,r){var o=Object(i["resolveComponent"])("Notification"),c=Object(i["resolveComponent"])("Field"),u=Object(i["resolveComponent"])("TestableField"),d=Object(i["resolveComponent"])("SaveButton"),s=Object(i["resolveComponent"])("ContentBlock"),p=Object(i["resolveComponent"])("AjaxForm");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(p,{"submit-api-method":"LoginLdap.saveLdapConfig","use-custom-data-binding":!0,"send-json-payload":!0,"form-data":e.actualLdapConfig},{default:Object(i["withCtx"])((function(n){return[Object(i["createVNode"])(s,{id:"ldapSettings","content-title":e.translate("LoginLdap_Settings")},{default:Object(i["withCtx"])((function(){return[e.updatedFromPre30?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",b,[Object(i["createVNode"])(o,{id:"pre300AlwaysUseLdapWarning",context:"warning",noclear:!0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(e.translate("General_Note")),1),Object(i["createTextVNode"])(": "+Object(i["toDisplayString"])(e.translate("LoginLdap_UpdateFromPre300Warning")),1)]})),_:1})])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"synchronize_users_after_login",modelValue:e.actualLdapConfig.use_ldap_for_authentication,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.actualLdapConfig.use_ldap_for_authentication=t}),title:e.translate("LoginLdap_UseLdapForAuthentication"),"inline-help":e.useLdapForAuthHelp},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"use_webserver_auth",modelValue:e.actualLdapConfig.use_webserver_auth,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.actualLdapConfig.use_webserver_auth=t}),title:e.translate("LoginLdap_Kerberos"),"inline-help":e.translate("LoginLdap_KerberosDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"strip_domain_from_web_auth",modelValue:e.actualLdapConfig.strip_domain_from_web_auth,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.actualLdapConfig.strip_domain_from_web_auth=t}),title:e.translate("LoginLdap_StripDomainFromWebAuth"),"inline-help":e.translate("LoginLdap_StripDomainFromWebAuthDescription")},null,8,["modelValue","title","inline-help"])])],512),[[i["vShow"],e.actualLdapConfig.use_webserver_auth]]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_network_timeout",modelValue:e.actualLdapConfig.ldap_network_timeout,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.actualLdapConfig.ldap_network_timeout=t}),title:e.translate("LoginLdap_NetworkTimeout"),"inline-help":e.ldapNetworkTimeoutHelp},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"required_member_of_field",modelValue:e.actualLdapConfig.required_member_of_field,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.actualLdapConfig.required_member_of_field=t}),title:e.translate("LoginLdap_MemberOfField"),"inline-help":e.translate("LoginLdap_MemberOfFieldDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(u,{uicontrol:"text",modelValue:e.actualLdapConfig.required_member_of,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.actualLdapConfig.required_member_of=t}),name:"required_member_of","test-api-method":"LoginLdap.getCountOfUsersMemberOf","test-api-method-arg":"memberOf","success-translation":"LoginLdap_MemberOfCount",title:e.translate("LoginLdap_MemberOf"),"inline-help":e.memberOfCountHelp},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(u,{uicontrol:"text",modelValue:e.actualLdapConfig.ldap_user_filter,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.actualLdapConfig.ldap_user_filter=t}),name:"ldap_user_filter","test-api-method":"LoginLdap.getCountOfUsersMatchingFilter","test-api-method-arg":"filter","success-translation":"LoginLdap_FilterCount",title:e.translate("LoginLdap_Filter"),"inline-help":e.translate("LoginLdap_FilterDescription")},null,8,["modelValue","title","inline-help"])]),_,Object(i["createVNode"])(d,{saving:e.ajaxform.isSubmitting,onConfirm:function(e){return n.submitForm()}},null,8,["saving","onConfirm"])]})),_:2},1032,["content-title"]),Object(i["createVNode"])(s,{id:"ldapUserMappingSettings","content-title":e.translate("LoginLdap_UserSyncSettings")},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_user_id_field",modelValue:e.actualLdapConfig.ldap_user_id_field,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.actualLdapConfig.ldap_user_id_field=t}),title:e.translate("LoginLdap_UserIdField"),"inline-help":e.translate("LoginLdap_UserIdFieldDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_password_field",modelValue:e.actualLdapConfig.ldap_password_field,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.actualLdapConfig.ldap_password_field=t}),title:e.translate("LoginLdap_PasswordField"),"inline-help":e.ldapPasswordFieldHelp},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_mail_field",modelValue:e.actualLdapConfig.ldap_mail_field,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.actualLdapConfig.ldap_mail_field=t}),title:e.translate("LoginLdap_MailField"),"inline-help":e.translate("LoginLdap_MailFieldDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"user_email_suffix",modelValue:e.actualLdapConfig.user_email_suffix,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.actualLdapConfig.user_email_suffix=t}),title:e.translate("LoginLdap_UsernameSuffix"),"inline-help":e.translate("LoginLdap_UsernameSuffixDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"new_user_default_sites_view_access",modelValue:e.actualLdapConfig.new_user_default_sites_view_access,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.actualLdapConfig.new_user_default_sites_view_access=t}),title:e.translate("LoginLdap_NewUserDefaultSitesViewAccess"),"inline-help":e.translate("LoginLdap_NewUserDefaultSitesViewAccessDescription")},null,8,["modelValue","title","inline-help"])]),L,Object(i["createVNode"])(d,{saving:e.ajaxform.isSubmitting,onConfirm:function(e){return n.submitForm()}},null,8,["saving","onConfirm"])]})),_:2},1032,["content-title"]),Object(i["createVNode"])(s,{id:"ldapUserAccessMappingSettings","content-title":e.translate("LoginLdap_AccessSyncSettings")},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("p",{innerHTML:e.$sanitize(e.readMoreAboutAccessSynchronization)},null,8,g),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"checkbox",name:"enable_synchronize_access_from_ldap",modelValue:e.actualLdapConfig.enable_synchronize_access_from_ldap,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.actualLdapConfig.enable_synchronize_access_from_ldap=t}),title:e.translate("LoginLdap_EnableLdapAccessSynchronization"),"inline-help":e.translate("LoginLdap_EnableLdapAccessSynchronizationDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(o,{context:"info"},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(e.translate("LoginLdap_ExpectedLdapAttributes")),1),V,h,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.translate("LoginLdap_ExpectedLdapAttributesPrelude"))+":",1),j,O,Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",{innerHTML:e.$sanitize(e.sampleViewAttribute)},null,8,v),Object(i["createElementVNode"])("li",{innerHTML:e.$sanitize(e.sampleAdminAttribute)},null,8,N),Object(i["createElementVNode"])("li",{innerHTML:e.$sanitize(e.sampleSuperuserAttribute)},null,8,C)])]})),_:1})]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_view_access_field",modelValue:e.actualLdapConfig.ldap_view_access_field,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.actualLdapConfig.ldap_view_access_field=t}),title:e.translate("LoginLdap_LdapViewAccessField"),"inline-help":e.translate("LoginLdap_LdapViewAccessFieldDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_admin_access_field",modelValue:e.actualLdapConfig.ldap_admin_access_field,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.actualLdapConfig.ldap_admin_access_field=t}),title:e.translate("LoginLdap_LdapAdminAccessField"),"inline-help":e.translate("LoginLdap_LdapAdminAccessFieldDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"ldap_superuser_access_field",modelValue:e.actualLdapConfig.ldap_superuser_access_field,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.actualLdapConfig.ldap_superuser_access_field=t}),title:e.translate("LoginLdap_LdapSuperUserAccessField"),"inline-help":e.translate("LoginLdap_LdapSuperUserAccessFieldDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"user_access_attribute_server_specification_delimiter",modelValue:e.actualLdapConfig.user_access_attribute_server_specification_delimiter,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.actualLdapConfig.user_access_attribute_server_specification_delimiter=t}),title:e.translate("LoginLdap_LdapUserAccessAttributeServerSpecDelimiter"),"inline-help":e.translate("LoginLdap_LdapUserAccessAttributeServerSpecDelimiterDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"user_access_attribute_server_separator",modelValue:e.actualLdapConfig.user_access_attribute_server_separator,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.actualLdapConfig.user_access_attribute_server_separator=t}),title:e.translate("LoginLdap_LdapUserAccessAttributeServerSeparator"),"inline-help":e.translate("LoginLdap_LdapUserAccessAttributeServerSeparatorDescription")},null,8,["modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",name:"instance_name",modelValue:e.actualLdapConfig.instance_name,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.actualLdapConfig.instance_name=t}),title:e.translate("LoginLdap_ThisPiwikInstanceName"),"inline-help":e.translate("LoginLdap_ThisPiwikInstanceNameDescription")},null,8,["modelValue","title","inline-help"])]),S,Object(i["createVNode"])(d,{saving:e.ajaxform.isSubmitting,onConfirm:function(e){return n.submitForm()}},null,8,["saving","onConfirm"])],512),[[i["vShow"],e.actualLdapConfig.enable_synchronize_access_from_ldap]])]})),_:2},1032,["content-title"])]})),_:1},8,["form-data"])]),Object(i["createVNode"])(s,{id:"ldapManualSynchronizeUser","content-title":e.translate("LoginLdap_LoadUser")},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("p",null,Object(i["toDisplayString"])(e.translate("LoginLdap_LoadUserDescription")),1),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",placeholder:"Enter a username...",modelValue:e.userToSynchronize,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.userToSynchronize=t})},null,8,["modelValue"])]),Object(i["createVNode"])(d,{onConfirm:t[20]||(t[20]=function(t){return e.synchronizeUser(e.userToSynchronize)}),value:e.translate("LoginLdap_Go")},null,8,["value"]),Object(i["withDirectives"])(Object(i["createElementVNode"])("img",y,null,512),[[i["vShow"],e.isSynchronizing]]),w,E,Object(i["withDirectives"])(Object(i["createElementVNode"])("div",null,[e.synchronizeUserError?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,innerHTML:e.$sanitize(e.synchronizeUserError)},null,8,U)):Object(i["createCommentVNode"])("",!0),e.synchronizeUserDone?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",A,[Object(i["createElementVNode"])("strong",null,Object(i["toDisplayString"])(e.translate("General_Done"))+"!",1)])):Object(i["createCommentVNode"])("",!0),x],512),[[i["vShow"],e.synchronizeUserError||e.synchronizeUserDone]]),Object(i["createElementVNode"])("span",{innerHTML:e.loadUserCommandDesc},null,8,D)]})),_:1},8,["content-title"]),Object(i["createVNode"])(s,{"content-title":e.translate("LoginLdap_LDAPServers")},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(p,{"submit-api-method":"'LoginLdap.saveServersInfo'","send-json-payload":"true","use-custom-data-binding":"true",modelValue:e.actualServers,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.actualServers=t})},{default:Object(i["withCtx"])((function(n){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.actualServers,(function(n,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"ldapServersTable",key:a},[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",modelValue:n.name,"onUpdate:modelValue":function(e){return n.name=e},title:e.translate("LoginLdap_ServerName")},null,8,["modelValue","onUpdate:modelValue","title"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",modelValue:n.hostname,"onUpdate:modelValue":function(e){return n.hostname=e},placeholder:"localhost",title:e.translate("LoginLdap_ServerUrl")},null,8,["modelValue","onUpdate:modelValue","title"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",modelValue:n.port,"onUpdate:modelValue":function(e){return n.port=e},placeholder:389,title:e.translate("LoginLdap_LdapPort"),"inline-help":e.translate("LoginLdap_LdapUrlPortWarning")},null,8,["modelValue","onUpdate:modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"checkbox",modelValue:n.start_tls,"onUpdate:modelValue":function(e){return n.start_tls=e},title:e.translate("LoginLdap_StartTLS"),"inline-help":e.translate("LoginLdap_StartTLSFieldHelp")},null,8,["modelValue","onUpdate:modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",placeholder:"dc=example,dc=site,dc=org",modelValue:n.base_dn,"onUpdate:modelValue":function(e){return n.base_dn=e},title:e.translate("LoginLdap_BaseDn")},null,8,["modelValue","onUpdate:modelValue","title"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{uicontrol:"text",placeholder:"cn=admin,dc=example,dc=site,dc=org",modelValue:n.admin_user,"onUpdate:modelValue":function(e){return n.admin_user=e},title:e.translate("LoginLdap_AdminUser"),"inline-help":e.translate("LoginLdap_AdminUserDescription")},null,8,["modelValue","onUpdate:modelValue","title","inline-help"])]),Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(c,{modelValue:n.admin_pass,"onUpdate:modelValue":function(e){return n.admin_pass=e},uicontrol:"password",title:e.translate("LoginLdap_AdminPass"),"inline-help":e.translate("LoginLdap_PasswordFieldHelp")},null,8,["modelValue","onUpdate:modelValue","title","inline-help"])]),Object(i["createVNode"])(d,{onConfirm:t[21]||(t[21]=function(t){return e.actualServers.splice(e.$index,1)}),value:e.translate("General_Delete")},null,8,["value"])])})),128)),F,Object(i["createVNode"])(d,{onConfirm:t[22]||(t[22]=function(t){return e.addServer()}),value:e.translate("General_Add")},null,8,["value"]),Object(i["createVNode"])(d,{saving:e.ajaxform.isSubmitting,onConfirm:function(e){return n.submitForm()}},null,8,["saving","onConfirm"])]})),_:1},8,["modelValue"])])]})),_:1},8,["content-title"])])}function k(e){return H(e)||B(e)||z(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){if(e){if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function B(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function H(e){if(Array.isArray(e))return P(e)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $(e,t,n,a){var l="".concat(t,": ");return e.instance_name?l+=e.instance_name:l+=window.location.hostname,n&&(l+="".concat(e.user_access_attribute_server_separator).concat(n)),l+=e.user_access_attribute_server_specification_delimiter,e.instance_name?l+="piwikB":l+="anotherhost.com",a&&(l+="".concat(e.user_access_attribute_server_separator).concat(a)),l}var q=Object(i["defineComponent"])({props:{ldapConfig:{type:Object,required:!0},servers:{type:Array,required:!0},updatedFromPre30:Boolean},components:{AjaxForm:r["AjaxForm"],ContentBlock:r["ContentBlock"],Notification:r["Notification"],Field:u["Field"],TestableField:f,SaveButton:u["SaveButton"]},data:function(){return{actualLdapConfig:Object.assign({},this.ldapConfig),userToSynchronize:"",actualServers:k(this.servers),synchronizeUserError:null,synchronizeUserDone:null,isSynchronizing:!1}},methods:{addServer:function(){this.actualServers.push({name:"server".concat(this.actualServers.length+1),hostname:"",port:389,base_dn:"",admin_user:"",admin_pass:""})},synchronizeUser:function(e){var t=this;this.synchronizeUserError=null,this.synchronizeUserDone=null,this.isSynchronizing=!0,r["AjaxHelper"].post({method:"LoginLdap.synchronizeUser"},{login:e},{createErrorNotification:!1}).then((function(){t.synchronizeUserDone=!0})).catch((function(e){t.synchronizeUserError=e.message||e})).finally((function(){t.isSynchronizing=!1}))}},computed:{sampleViewAttribute:function(){var e=this.actualLdapConfig;return $(e,e.ldap_view_access_field,"1,2","3,4")},sampleAdminAttribute:function(){var e=this.actualLdapConfig;return $(e,e.ldap_admin_access_field,"all","all")},sampleSuperuserAttribute:function(){var e=this.actualLdapConfig;return $(e,e.ldap_superuser_access_field)},readMoreAboutAccessSynchronization:function(){var e="https://github.com/matomo-org/plugin-LoginLdap#matomo-access-synchronization";return Object(r["translate"])("LoginLdap_ReadMoreAboutAccessSynchronization",'<a target="_blank" href="'.concat(e,'">'),"</a>")},loadUserCommandDesc:function(){var e="https://github.com/matomo-org/plugin-LoginLdap#commands";return Object(r["translate"])("LoginLdap_LoadUserCommandDesc",'<a target="_blank" href="'.concat(e,'">loginldap:synchronize-users</a>}'))},useLdapForAuthHelp:function(){var e=Object(r["translate"])("LoginLdap_UseLdapForAuthenticationDescription");return"".concat(e,"<br /><br />").concat(Object(r["translate"])("LoginLdap_MobileAppIntegrationNote"))},ldapNetworkTimeoutHelp:function(){var e=Object(r["translate"])("LoginLdap_NetworkTimeoutDescription");return"".concat(e,"<br />").concat(Object(r["translate"])("LoginLdap_NetworkTimeoutDescription2"))},memberOfCountHelp:function(){var e=Object(r["translate"])("LoginLdap_MemberOfDescription");return"".concat(e,"<br />").concat(Object(r["translate"])("LoginLdap_MemberOfDescription2"))},ldapPasswordFieldHelp:function(){var e=Object(r["translate"])("LoginLdap_PasswordFieldDescription");return"".concat(e,"<br /><br />").concat(Object(r["translate"])("LoginLdap_PasswordFieldDescription2"))}}}),I=n("4b04"),R=n.n(I);q.render=T,"function"===typeof R.a&&R()(q);var J=q;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */}})}));
//# sourceMappingURL=LoginLdap.umd.min.js.map